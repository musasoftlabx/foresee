"use strict";(self["webpackChunkforesee"]=self["webpackChunkforesee"]||[]).push([[610],{90427:function(t,e,i){i.d(e,{Z:function(){return c}});i(36353);var r=function(){var t=this,e=t._self._c;return e("v-main",[e("v-navigation-drawer",{staticStyle:{height:"calc(100vh - 60px)"},attrs:{"mini-variant":t.MiniVariant,"expand-on-hover":!1,permanent:t.permanent,app:"",clipped:"",fixed:"",color:"white",width:"200px"},model:{value:t.drawer.visible,callback:function(e){t.$set(t.drawer,"visible",e)},expression:"drawer.visible"}},[e("v-list-item",[e("v-list-item-content",[e("v-row",{staticClass:"py-3",attrs:{"no-gutters":""}},[e("v-col",[e("v-icon",{attrs:{size:"24"},on:{click:function(e){t.MiniVariant=!t.MiniVariant}}},[t._v("mdi-menu")]),t.MiniVariant?t._e():e("div",{staticClass:"text-h5 grey--text font-weight-bold mb-1 mt-4"},[t._v(" 4C-Tech ")])],1)],1)],1)],1),e("v-list",{attrs:{nav:"",shaped:""}},[e("v-list-item-group",{attrs:{"active-class":"DrawerActive"},model:{value:t.currentRoute,callback:function(e){t.currentRoute=e},expression:"currentRoute"}},t._l(t.ComputeAccessMatrix,(function(i){return e("v-list-item",{key:i.text,on:{click:function(e){return t.$router.push("/"+i.route)}}},[e("v-list-item-action",[e("v-icon",[t._v(t._s(i.icon))])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"text-subtitle-1"},[t._v(t._s(i.text))])],1),i.new?e("v-chip",{attrs:{color:"primary","x-small":""}},[t._v("new")]):t._e()],1)})),1)],1)],1)],1)},s=[],a={data(){return{currentRoute:this.$router.name,MiniVariant:!!this.$vuetify.breakpoint.smAndDown,permanent:!0}},watch:{"$vuetify.breakpoint.smAndDown"(t){t?(this.MiniVariant=!0,this.permanent=!0):this.MiniVariant=!1}}},o=a,n=i(61431),l=(0,n.Z)(o,r,s,!1,null,null,null),c=l.exports},46500:function(t,e,i){i.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("section",[e("v-snackbar",{attrs:{color:t.snackbar.color,timeout:t.snackbar.timeout,bottom:t.snackbar.bottom,left:t.snackbar.left,right:t.snackbar.right,vertical:t.snackbar.vertical,"multi-line":t.snackbar.multiline},model:{value:t.snackbar.visible,callback:function(e){t.$set(t.snackbar,"visible",e)},expression:"snackbar.visible"}},[e("span",{class:t.snackbar.textcolor+"--text"},[t._v(t._s(t.snackbar.content))]),t.snackbar.action?e("v-btn",{attrs:{text:"",color:"yellow"},on:{click:function(e){t.snackbar.visible=!1}}},[t._v("VIEW")]):t._e(),t.snackbar.loader?e("v-progress-circular",{attrs:{size:20,indeterminate:"",color:"primary"}}):t._e()],1)],1)},s=[],a={data(){return{snackbar:{visible:!1,content:null,route:null,color:void 0,textcolor:"white",loader:!1,timeout:-1,action:!1,right:!0,left:!1,bottom:!0,vertical:!1,multiline:!1}}},methods:{Snackify(t){this.snackbar={...this.snackbar,...t}}}},o=a,n=i(61431),l=(0,n.Z)(o,r,s,!1,null,null,null),c=l.exports},70610:function(t,e,i){i.r(e),i.d(e,{default:function(){return w}});var r=function(){var t=this,e=t._self._c;return e("v-main",[e("Appbar"),e("Drawer"),e("v-container",{attrs:{fluid:""}},[e("div",{staticClass:"ml-4 py-3"},[e("div",{staticClass:"text-h6"},[t._v(" Stores"),e("v-chip",{staticClass:"ml-2 mt-n1 subtitle-1",attrs:{small:"","text-color":"white",color:"primary"}},[e("span",[t._v(t._s(t.dataset.length))])])],1),e("v-btn",{staticClass:"mt-3 ml-n2",attrs:{color:"grey",text:""},on:{click:t.ShowAddStore}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("ADD STORE")],1),e("v-btn",{staticClass:"mt-3",attrs:{color:"primary",text:"",disabled:!t.dataset.length},on:{click:function(e){t.$refs.SetWorkingStore.visible=!0}}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-domain")]),t._v("SET WORKING STORE")],1),e("v-row",[e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{ref:"Search",staticClass:"mt-5 ml-n2",attrs:{clearable:"",rounded:"",flat:"",dense:"",filled:"","hide-details":"","prepend-inner-icon":"mdi-table-search",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),e("v-row",{staticClass:"mt-3 px-4",attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12"}},[e("v-data-iterator",{attrs:{items:t.dataset,"items-per-page":t.itemsPerPage,page:t.page,search:t.search,loading:t.loading,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e},"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"header",fn:function(){return[e("v-row",[e("v-col",{attrs:{align:"end",cols:"12",sm:"4"}},[e("div",{staticStyle:{position:"absolute",right:"50px",top:"115px"}},[e("span",{staticClass:"mr-4 grey--text"},[t._v("Page "+t._s(t.page)+" of "+t._s(t.numberOfPages))]),e("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:t.formerPage}},[e("v-icon",[t._v("mdi-chevron-left")])],1),e("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:t.nextPage}},[e("v-icon",[t._v("mdi-chevron-right")])],1)],1)])],1)]},proxy:!0},{key:"no-data",fn:function(){return[e("v-row",{staticClass:"mt-10",attrs:{"no-gutters":"",justify:"center"}},[e("v-alert",{attrs:{text:"",outlined:"",color:"deep-orange",icon:"mdi-progress-alert"}},[t._v(" Mmmmh...looks like you don't have any stores currently. Click "),e("v-btn",{staticClass:"mx-2 GradientButton",staticStyle:{"margin-top":"-2px"},attrs:{color:"white",small:"",outlined:""},on:{click:t.ShowAddStore}},[t._v("ADD STORE ")]),t._v(" to add a new store. ")],1)],1)]},proxy:!0},{key:"loading",fn:function(){return[e("v-row",t._l(12,(function(t){return e("v-col",{key:t,attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[e("v-skeleton-loader",{attrs:{type:"image"}})],1)})),1)]},proxy:!0},{key:"default",fn:function(i){return[e("v-row",t._l(i.items,(function(i,r){return e("v-col",{key:r,attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[e("v-card",{staticClass:"rounded-xl elevation-3 px-5 pb-5 pt-6",style:i.code===t.workingStore.code?"background-image: linear-gradient(43deg, rgb(132 255 236) 0%, rgb(197 255 211) 100%)":"background: linear-gradient(#ffffff, #fafafa)",attrs:{"max-width":"300"}},[i.code===t.workingStore.code?e("v-chip",{staticStyle:{position:"absolute",right:"20px",top:"-10px"},attrs:{color:"#99f8cb",pill:"",small:""}},[t._v("Working store")]):t._e(),e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{align:"center"}},[e("div",{staticClass:"text-h6"},[t._v(" "+t._s(i.code)+" ")]),e("div",{staticClass:"text-subtitle-2 text-ellipsis"},[t._v(" "+t._s(i.name)+" ("+t._s(i.client)+") ")]),e("v-chip",{staticClass:"mt-1",attrs:{outlined:"",small:""}},[t._v(" "+t._s(i.country)+" ")])],1)],1),e("v-row",{attrs:{justify:"space-around"}},[e("v-btn",{attrs:{to:{name:"Store",params:{id:i.id,code:i.code}},color:"primary",rounded:"",dense:"",text:""}},[t._v("VIEW")]),e("v-btn",{attrs:{color:"error",rounded:"",dense:"",text:""},on:{click:function(e){return t.Confirm({task:"show",operation:"delete",color:"warning",metadata:{key:i.id,object:i},icon:"mdi-delete-variant",content:`Proceed to remove ${i.name} store?`,title:"Remove store"})}}},[t._v(" DELETE ")])],1)],1)],1)})),1)]}}])})],1)],1)],1),e("Alert",{ref:"Alert"}),e("Snackbar",{ref:"Snackbar"}),e("AddStore",{ref:"AddStore",on:{NewStore:t.NewStore}}),e("SetWorkingStore",{ref:"SetWorkingStore",attrs:{dataset:t.dataset},on:{NewWorkingStore:t.NewWorkingStore}}),e("Confirm",{ref:"Confirm",on:{confirm:t.Confirm,cancel:t.Confirm}})],1)},s=[],a=(i(24757),i(63348)),o=i(90427),n=i(46500),l=function(){var t=this,e=t._self._c;return e("section",[e("v-dialog",{attrs:{persistent:"","max-width":"400",transition:"dialog-top-transition"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("v-card",{staticClass:"rounded-lg",attrs:{flat:""}},[e("div",{attrs:{id:"Modal-divider-top"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 125",preserveAspectRatio:"none"}},[e("path",{staticClass:"divider-fill",staticStyle:{opacity:"0.5"},attrs:{d:"m 0,81.659348 c 81.99918,0 88.739113,19.697032 141.99858,19.697032 46.67953,0 33.12967,-19.551122 85.12915,-19.551122 57.49943,0 75.87924,34.141512 143.87856,34.141512 55.99944,0 98.99901,-36.475982 149.49851,-36.475982 76.49923,0 77.32923,29.482322 131.49868,43.284832 55.99944,14.2694 72.82927,-44.169982 142.82857,-44.169982 41.37959,0 74.35926,28.033012 103.68897,28.033012 C 942.67057,106.61865 1000,75.093678 1000,75.093678 V 24.999998 H 0 Z"}}),e("path",{staticClass:"divider-fill",attrs:{d:"m 0,81.988666 c 97.331947,-14.74806 115.33231,19.667594 176.67353,19.667594 53.33107,0 60.14121,-51.965834 122.64246,-51.965834 84.00168,0 116.35232,90.668944 200.004,73.034484 80.0016,-16.85492 86.00172,-63.205964 153.34306,-63.205964 49.661,0 86.65174,33.00405 124.00248,33.00405 33.33067,0 51.27103,-31.16054 78.00156,-31.16054 43.93088,0 51.28103,31.0868 97.90196,28.83245 C 976.99954,89.015066 1000,74.267006 1000,74.267006 V 5.8499091e-6 H 0 Z"}})])]),e("v-card",{staticClass:"px-8 pt-6",attrs:{dark:"",flat:"",color:"transparent"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"10"}},[e("div",{staticClass:"text-h5 font-weight-thin"},[t._v("Add Store")])]),e("v-col",{attrs:{cols:"2",align:"end"}},[e("v-icon",{attrs:{size:"24"},on:{click:function(e){t.visible=!1}}},[t._v("mdi-close")])],1)],1)],1),e("div",{staticClass:"pt-2 px-5 pb-0",staticStyle:{"overflow-y":"auto","overflow-x":"hidden","padding-top":"190px !important"}},[e("v-form",{ref:"AddStore",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[e("vue-tel-input-vuetify",{attrs:{rules:[t.validators.required],defaultCountry:"KE",preferredCountries:["KE","UG","TZ"],mode:"international",inputOptions:{showDialCode:!0},selectLabel:"",label:"Country *",filled:"",rounded:""},on:{"country-changed":t.GetCountry},model:{value:t.country.name,callback:function(e){t.$set(t.country,"name",e)},expression:"country.name"}})],1),e("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[e("v-select",{attrs:{rules:[t.validators.required],items:t.client.clients,label:"Client *",filled:"",rounded:"","prepend-inner-icon":"mdi-domain"},model:{value:t.client.name,callback:function(e){t.$set(t.client,"name",e)},expression:"client.name"}})],1),e("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[e("v-text-field",{ref:"StoreName",attrs:{rules:[t.validators.required],label:"Store Name *",filled:"",rounded:"",dense:"","prepend-inner-icon":"mdi-store"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.AddStore.apply(null,arguments)}},model:{value:t.StoreName,callback:function(e){t.StoreName=e},expression:"StoreName"}})],1),e("v-col",{staticClass:"px-2 pt-3 pb-6",attrs:{cols:"12",align:"end"}},[e("v-btn",{attrs:{color:"primary",height:"35",rounded:"",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.AddStore}},[t._v("CREATE")])],1)],1)],1)],1)],1)],1),e("Alert",{ref:"Alert"})],1)},c=[],d={data(){return{visible:!1,loading:!1,valid:!1,country:{name:null,code:null},client:{name:"LC Waikiki",clients:["LC Waikiki","Aeropostale","FLO"]},StoreName:null}},mounted(){},methods:{GetCountry(t){this.country.name=t.name,this.country.code=t.iso2},AddStore(){this.loading=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(`${this.$store.getters.endpoint}Stores/`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${this.$store.getters.token}`,"Content-Type":"application/json"},body:JSON.stringify({country:this.country,client:this.client.name,StoreName:this.StoreName})})).then((t=>t.json().then((e=>{t.status>201?this.$refs.Alert.Alertify({title:e.title,content:e.content,visible:!0,icon:"mdi-progress-close",color:"warning"}):(this.client.name=null,this.StoreName=null,this.$emit("NewStore",e),this.visible=!1)})))).catch((t=>this.$refs.Alert.Alertify({visible:!0,content:t.message||this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"}))).finally((()=>this.loading=!1))}}},u=d,v=i(61431),m=(0,v.Z)(u,l,c,!1,null,null,null),f=m.exports,p=function(){var t=this,e=t._self._c;return e("section",[e("v-dialog",{attrs:{"max-width":"400",persistent:"",transition:"dialog-top-transition"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("v-card",{staticClass:"rounded-lg",attrs:{flat:""}},[e("div",{attrs:{id:"Modal-divider-top"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 125",preserveAspectRatio:"none"}},[e("path",{staticClass:"divider-fill",staticStyle:{opacity:"0.5"},attrs:{d:"m 0,81.659348 c 81.99918,0 88.739113,19.697032 141.99858,19.697032 46.67953,0 33.12967,-19.551122 85.12915,-19.551122 57.49943,0 75.87924,34.141512 143.87856,34.141512 55.99944,0 98.99901,-36.475982 149.49851,-36.475982 76.49923,0 77.32923,29.482322 131.49868,43.284832 55.99944,14.2694 72.82927,-44.169982 142.82857,-44.169982 41.37959,0 74.35926,28.033012 103.68897,28.033012 C 942.67057,106.61865 1000,75.093678 1000,75.093678 V 24.999998 H 0 Z"}}),e("path",{staticClass:"divider-fill",attrs:{d:"m 0,81.988666 c 97.331947,-14.74806 115.33231,19.667594 176.67353,19.667594 53.33107,0 60.14121,-51.965834 122.64246,-51.965834 84.00168,0 116.35232,90.668944 200.004,73.034484 80.0016,-16.85492 86.00172,-63.205964 153.34306,-63.205964 49.661,0 86.65174,33.00405 124.00248,33.00405 33.33067,0 51.27103,-31.16054 78.00156,-31.16054 43.93088,0 51.28103,31.0868 97.90196,28.83245 C 976.99954,89.015066 1000,74.267006 1000,74.267006 V 5.8499091e-6 H 0 Z"}})])]),e("v-card",{staticClass:"px-8 pt-6",attrs:{dark:"",flat:"",color:"transparent"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"10"}},[e("div",{staticClass:"text-h5 font-weight-thin"},[t._v(" Set working store ")]),e("div",{staticClass:"text-caption mt-0 ml-1",staticStyle:{color:"#bdffff"}},[t._v(" All scanned locations will be picked from this store. ")])]),e("v-col",{attrs:{cols:"2",align:"end"}},[e("v-icon",{attrs:{size:"24"},on:{click:function(e){t.visible=!1}}},[t._v("mdi-close")])],1)],1)],1),e("div",{staticClass:"pt-2 px-5 pb-0",staticStyle:{"overflow-y":"auto","overflow-x":"hidden","padding-top":"170px !important"}},[e("v-form",{ref:"CreateLocation",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-row",{attrs:{"no-gutters":"",justify:"center"}},[e("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{rules:[t.validators.required],items:t.dataset,label:"Working store *","item-text":"name","item-value":"code","return-object":"",filled:"",rounded:"","prepend-inner-icon":"mdi-store"},scopedSlots:t._u([{key:"item",fn:function(i){return[e("v-list",{attrs:{dense:"","two-line":""}},[e("v-list-item",[e("v-list-item-avatar",[e("v-icon",{staticClass:"primary--text",attrs:{size:"40"}},[t._v("mdi-store")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"text-subtitle-1"},[t._v(t._s(i.item.name))]),e("v-list-item-subtitle",{staticClass:"text-subtitle-2 grey--text"},[t._v(t._s(i.item.country))])],1)],1)],1)]}}]),model:{value:t.store,callback:function(e){t.store=e},expression:"store"}})],1),e("v-dialog",{ref:"dialog",attrs:{"return-value":t.date.scanDate,persistent:"",width:"290px"},on:{"update:returnValue":function(e){return t.$set(t.date,"scanDate",e)},"update:return-value":function(e){return t.$set(t.date,"scanDate",e)}},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:r}){return[e("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[e("v-text-field",t._g(t._b({attrs:{rules:[t.validators.required],label:"Working Date *","prepend-inner-icon":"mdi-calendar",readonly:"",filled:"",rounded:"",dense:""},model:{value:t.date.scanDate,callback:function(e){t.$set(t.date,"scanDate",e)},expression:"date.scanDate"}},"v-text-field",r,!1),i))],1)]}}]),model:{value:t.date.visible,callback:function(e){t.$set(t.date,"visible",e)},expression:"date.visible"}},[e("v-date-picker",{attrs:{scrollable:""},model:{value:t.date.scanDate,callback:function(e){t.$set(t.date,"scanDate",e)},expression:"date.scanDate"}},[e("v-spacer"),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.date.visible=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date.scanDate)}}},[t._v(" OK ")])],1)],1),e("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[e("v-text-field",t._g(t._b({attrs:{rules:[t.validators.required],label:"Scan Characters Limit *","prepend-inner-icon":"mdi-counter",filled:"",rounded:"",dense:""},model:{value:t.scanCharsLimit,callback:function(e){t.scanCharsLimit=e},expression:"scanCharsLimit"}},"v-text-field",t.attrs,!1),t.on))],1),e("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[e("div",{staticClass:"text-caption mt-0 ml-1 mb-n2"},[t._v(" Set operand (Enforces barcode limits) ")]),e("v-radio-group",{model:{value:t.strict,callback:function(e){t.strict=e},expression:"strict"}},[e("v-radio",{attrs:{label:`Barcode is strictly equals to ${t.scanCharsLimit} chars.`,value:!0}}),e("v-radio",{attrs:{label:"Barcode varies",value:!1}})],1)],1),e("v-col",{staticClass:"px-2 pb-6",attrs:{cols:"12",align:"end"}},[e("v-btn",{attrs:{color:"primary",height:"35",rounded:"",text:"",loading:t.loading,disabled:!t.valid||t.loading||null===t.strict},on:{click:t.SetWorkingStore}},[t._v("SET AS DEFAULT")])],1)],1)],1)],1)],1)],1),e("Alert",{ref:"Alert"})],1)},h=[],g={props:["dataset"],data(){return{visible:!1,loading:!1,valid:!1,date:{visible:!1,scanDate:null},store:null,scanCharsLimit:13,strict:null}},methods:{SetWorkingStore(){this.loading=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(`${this.$store.getters.endpoint}Stores/`,{method:"PUT",headers:{Accept:"application/json",Authorization:`Bearer ${this.$store.getters.token}`,"Content-Type":"application/json"},body:JSON.stringify({workingStore:JSON.stringify(this.store),workingDate:this.date.scanDate,workingStoreDate:this.store.code+"-"+Number(this.date.scanDate.split("-").join("")),scanCharsLimit:this.scanCharsLimit,strict:this.strict?1:0})})).then((t=>t.json().then((e=>{t.status>201?this.$refs.Alert.Alertify({visible:!0,content:e.content,title:e.title,icon:"mdi-progress-alert",color:"error"}):(this.visible=!1,this.$emit("NewWorkingStore",this.store))})))).catch((()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((()=>this.loading=!1))}}},b=g,k=(0,v.Z)(b,p,h,!1,null,null,null),y=k.exports,S={components:{Appbar:a.Z,Drawer:o.Z,Snackbar:n.Z,AddStore:f,SetWorkingStore:y},data(){return{loading:!1,dataset:[],workingStore:null,search:"",page:1,itemsPerPage:20,itemsPerPageArray:[20,40,60]}},created(){this.$Progress.start(),this.loading=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(`${this.$store.getters.endpoint}Stores/`,{headers:{Accept:"application/json",Authorization:`Bearer ${this.$store.getters.token}`,"Content-Type":"application/json"}})).then((t=>{t.json().then((t=>{this.dataset=t.stores,this.workingStore=this.$refs.SetWorkingStore.store=JSON.parse(t.workingStore.workingStore),this.$refs.SetWorkingStore.date.scanDate=t.workingStore.workingDate,this.$refs.SetWorkingStore.scanCharsLimit=t.workingStore.scanCharsLimit,this.$refs.SetWorkingStore.strict=1===t.workingStore.strict}))})).catch((()=>{this.$Progress.fail(),this.$refs.Alert.Alertify({title:"Connection Timeout",content:this.$store.getters.fetchTimeoutError,visible:!0,icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((()=>{this.loading=!1,this.$Progress.finish()}))},methods:{Confirm(t){if("show"===t.task)this.$refs.Confirm.Confirmify({visible:!0,task:t.task,operation:t.operation,metadata:t.metadata,content:t.content,title:t.title,icon:t.icon||"mdi-help-circle",color:t.color||"orange",truth:t.truth||"YES",falsy:t.falsy||"NO"});else if(t.task){if(this.$refs.Confirm.Confirmify({visible:!1}),"delete"===this.$refs.Confirm.confirm.operation){let t=this.$refs.Confirm.confirm.metadata,e=t.object,i=t.key;this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(`${this.$store.getters.endpoint}Stores/`,{method:"DELETE",headers:{Accept:"application/json",Authorization:`Bearer ${this.$store.getters.token}`,"Content-Type":"application/json"},body:JSON.stringify({code:e.code,name:e.name,key:i})})).then((t=>t.text().then((()=>{t.status>200?this.$refs.Alert.Alertify({visible:!0,content:"Error while deleting store. Kindly try again",title:"Error",icon:"mdi-progress-alert",color:"error"}):(this.dataset.splice(this.dataset.indexOf(e),1),this.$refs.Snackbar.Snackify({visible:!0,content:"Store removed!",color:"success",timeout:2e3}))})))).catch((()=>this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"}))).finally((()=>this.loading=!1))}}else t.task||this.$refs.Confirm.Confirmify({visible:!1})},ShowAddStore(){this.$refs.AddStore.visible=!0,setTimeout((()=>this.$refs.AddStore.$refs.StoreName.focus()),100)},NewStore(t){this.dataset.unshift(t),this.$refs.Snackbar.Snackify({visible:!0,content:`Added ${t.name} to list of stores.`,color:"success",timeout:3e3})},NewWorkingStore(t){this.workingStore=t},nextPage(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage(){this.page-1>=1&&(this.page-=1)}},computed:{numberOfPages(){return Math.ceil(this.dataset.length/this.itemsPerPage)}}},x=S,C=(0,v.Z)(x,r,s,!1,null,null,null),w=C.exports}}]);